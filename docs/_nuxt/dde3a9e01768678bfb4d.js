(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{145:function(t,e,n){var content=n(149);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(51).default)("6add6edb",content,!0,{sourceMap:!1})},146:function(t,e,n){var content=n(151);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(51).default)("6224379b",content,!0,{sourceMap:!1})},147:function(t,e,n){"use strict";var r=n(162),c=n.n(r),o={apiKey:"AIzaSyDgw7znG2kgpYAH6UPXF1k72zjpnYV7zRg",authDomain:"nippohub-daily-prod.firebaseapp.com",databaseURL:"https://nippohub-daily-prod.firebaseio.com",projectId:"nippohub-daily-prod",storageBucket:"",messagingSenderId:"729594218139"};0===c.a.apps.length&&c.a.initializeApp(o),e.a=c.a},148:function(t,e,n){"use strict";var r=n(145);n.n(r).a},149:function(t,e,n){(t.exports=n(50)(!1)).push([t.i,".p-header{padding:.5rem 0;box-shadow:0 3px 5px rgba(0,0,0,.1)}.p-header__container{display:flex;justify-content:space-between;align-items:center;width:640px;margin:0 auto}.p-page-title{margin:0;font-size:1.5rem}.p-page-title a{color:#000;text-decoration:none}.p-auth-links{list-style-type:none;padding:0;margin:0}.p-auth-links__item{display:inline-block}.p-auth-links__item:nth-of-type(n+2){margin-left:.5rem}@media(max-width:640px){.p-header__container{width:100%;padding:0 1.5rem;box-sizing:border-box}}",""])},150:function(t,e,n){"use strict";var r=n(146);n.n(r).a},151:function(t,e,n){(t.exports=n(50)(!1)).push([t.i,".p-footer div{margin:0 auto;width:640px}@media(max-width:640px){.p-footer div{width:100%;padding:0 1.5rem;box-sizing:border-box}}",""])},152:function(t,e,n){"use strict";var r=n(147),c={props:["currentUserId"],methods:{signOut:function(){r.a.auth().signOut()}}},o=(n(148),n(18)),component=Object(o.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"p-header"},[n("div",{staticClass:"p-header__container"},[n("h1",{staticClass:"p-page-title"},[n("nuxt-link",{attrs:{to:"/"}},[t._v("NippoHub")])],1),t._v(" "),n("nav",[n("ul",{staticClass:"p-auth-links"},[null!==t.currentUserId?n("li",{staticClass:"p-auth-links__item",on:{click:t.signOut}},[t._v("Sign out")]):[n("li",{staticClass:"p-auth-links__item"},[n("nuxt-link",{attrs:{to:"/sign_in"}},[t._v("Sign in")])],1),t._v(" "),n("li",{staticClass:"p-auth-links__item"},[n("nuxt-link",{attrs:{to:"/sign_up"}},[t._v("Sign up")])],1)]],2)])])])},[],!1,null,null,null);e.a=component.exports},153:function(t,e,n){"use strict";n(150);var r=n(18),component=Object(r.a)({},function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"p-footer"},[e("div",[e("span",[this._v("\n      ©NippoHub\n    ")]),this._v(" "),e("nuxt-link",{attrs:{to:"/agreements",target:"_blank"}},[this._v("利用規約")]),this._v(" "),e("nuxt-link",{attrs:{to:"/privacy",target:"_blank"}},[this._v("プライバシーポリシー")])],1)])},[],!1,null,null,null);e.a=component.exports},156:function(t,e,n){var content=n(170);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(51).default)("a174d48a",content,!0,{sourceMap:!1})},169:function(t,e,n){"use strict";var r=n(156);n.n(r).a},170:function(t,e,n){(t.exports=n(50)(!1)).push([t.i,".p-btn,.p-submit{background-color:#fff;border:.1em solid #ddd;border-radius:.3em;padding:.25em 2em}",""])},223:function(t,e,n){"use strict";var r=n(247),c=n.n(r);c.a.setOptions({sanitize:!0}),e.a=c.a},340:function(t,e,n){"use strict";n.r(e);var r=n(147),c=n(152),o=n(223),l={props:["currentUserId","dailyReportId","initAccessKey"],data:function(){return{accessKey:null}},methods:{generateAccessKey:function(){var t=r.a.database();if(null!=this.currentUserId&&null==this.accessKey){var e=t.ref("access_keys").push({user_id:this.currentUserId,daily_report_id:this.dailyReportId});t.ref("users/".concat(this.currentUserId,"/daily_reports/").concat(this.dailyReportId)).update({access_key:e.key}),this.accessKey=e.key}},dismissAccessKey:function(){var t=r.a.database();null!=this.currentUserId&&null!=this.accessKey&&(t.ref("users/".concat(this.currentUserId,"/daily_reports/").concat(this.dailyReportId)).update({access_key:null}),t.ref("access_keys/".concat(this.accessKey)).update({user_id:null,daily_report_id:null}),this.accessKey=null)}},mounted:function(){this.accessKey=this.initAccessKey}},d=(n(169),n(18)),h={components:{ShareLink:Object(d.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[null!=t.accessKey?[n("div",[t._v("共有URL: "),n("input",{staticStyle:{width:"100%"},attrs:{type:"text",readonly:""},domProps:{value:"https://nippohub.com/daily_reports/public/"+t.accessKey}})]),t._v(" "),n("button",{staticClass:"p-submit",attrs:{type:"button"},on:{click:t.dismissAccessKey}},[t._v("プライベートにする")])]:n("button",{staticClass:"p-submit",attrs:{type:"button"},on:{click:t.generateAccessKey}},[t._v("共有する")])],2)},[],!1,null,null,null).exports},props:["currentUserId","dailyReportId"],data:function(){return{title:"",content:"",accessKey:null,didFind:!1}},mounted:function(){var t=this,e=r.a.database();null!=this.currentUserId&&e.ref("users/".concat(this.currentUserId,"/daily_reports/").concat(this.dailyReportId)).once("value",function(e){var n=e.val();null!=n&&(t.title="".concat(n.date," ").concat(n.title),t.content=Object(o.a)(n.content),t.accessKey=n.access_key,t.didFind=!0)})}},_=Object(d.a)(h,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.didFind?n("div",[n("share-link",{attrs:{"current-user-id":t.currentUserId,"daily-report-id":t.dailyReportId,"init-access-key":t.accessKey}}),t._v(" "),n("article",[n("h1",[t._v(t._s(t.title))]),t._v(" "),n("main",{domProps:{innerHTML:t._s(t.content)}})])],1):t._e()])},[],!1,null,null,null).exports,f=n(153),y={components:{MainHeader:c.a,DailyReportDetail:_,MainFooter:f.a},data:function(){return{currentUserId:null}},mounted:function(){var t=this;r.a.auth().onAuthStateChanged(function(e){t.currentUserId=null!=e?e.uid:null})}},v=Object(d.a)(y,function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("main-header",{attrs:{currentUserId:this.currentUserId}}),this._v(" "),e("div",{staticClass:"l-container"},[null!=this.currentUserId?e("DailyReportDetail",{attrs:{"daily-report-id":this.$route.params.id,"current-user-id":this.currentUserId}}):this._e()],1),this._v(" "),e("main-footer")],1)},[],!1,null,null,null);e.default=v.exports}}]);