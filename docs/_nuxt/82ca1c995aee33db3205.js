(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{126:function(t,e,n){"use strict";var r=n(127),o=n.n(r);0===o.a.apps.length&&o.a.initializeApp({apiKey:"AIzaSyDYW753RcIC6_QmRTCJkK7DwuGIe0dhIBk",authDomain:"nippohub-daily-dev.firebaseapp.com",databaseURL:"https://nippohub-daily-dev.firebaseio.com",projectId:"nippohub-daily-dev",storageBucket:"",messagingSenderId:"754356144832"}),e.a=o.a},129:function(t,e,n){"use strict";var r=n(126),o={props:["currentUserId","dailyReportId"],data:function(){return{date:"",title:"",content:""}},methods:{post:function(){var t=r.a.database();null!=this.currentUserId&&(null!=this.dailyReportId?t.ref("daily_reports/".concat(this.dailyReportId)).update({date:this.date,title:this.title,content:this.content}):(t.ref("daily_reports/").push({date:this.date,title:this.title,content:this.content,createdAt:Date.now(),userId:this.currentUserId}),this.date=null,this.title="",this.content=""))}},mounted:function(){var t=this,e=r.a.database();null!=this.dailyReportId&&e.ref("/daily_reports/".concat(this.dailyReportId)).once("value",function(e){var n=e.val();if(null!=n){var r=new Date(n.createdAt);"".concat(r.getFullYear(),"-").concat(r.getMonth(),"-").concat(r.getDate());t.date=n.date,t.title=n.title,t.content=n.content}})}},l=n(15),component=Object(l.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){return e.preventDefault(),t.post(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],attrs:{type:"date",placeholder:"日付"},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:"title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{name:"content"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),t._v(" "),n("button",{attrs:{type:"submit"}},[t._v("送信")])])},[],!1,null,null,null);e.a=component.exports},133:function(t,e,n){"use strict";var r=n(126),o={props:["currentUserId"],methods:{signOut:function(){r.a.auth().signOut()}}},l=n(15),component=Object(l.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("h1",[t._v("NippoHub Dialy")]),t._v(" "),n("nav",[n("ul",[null!==t.currentUserId?n("li",{on:{click:t.signOut}},[t._v("Sign out")]):[n("li",[t._v("Sign in")]),t._v(" "),n("li",[t._v("Sign up")])]],2)])])},[],!1,null,null,null);e.a=component.exports},134:function(t,e,n){"use strict";var r=n(126),o={props:["currentUserId"],data:function(){return{dailyReports:[]}},mounted:function(){var t=this,e=r.a.database().ref("daily_reports/");null!=this.currentUserId&&(e.off(),e.orderByChild("userId").equalTo(this.currentUserId).on("value",function(e){var n=e.val(),r=[];for(var o in n){var l=n[o],c=new Date(l.createdAt),d=function(t){return"0".concat(t).slice(-2)},v="".concat(c.getFullYear(),"-").concat(d(c.getMonth()+1),"-").concat(d(c.getDate())," ").concat(d(c.getHours()),":").concat(d(c.getMinutes()));r.push({id:o,title:l.title,createdAt:v,date:l.date})}t.dailyReports=r}))}},l=n(15),component=Object(l.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",t._l(t.dailyReports,function(e){return n("li",[n("a",{attrs:{href:"/daily_reports/"+e.id}},[n("h2",[t._v(t._s(e.date)+" "+t._s(e.title))]),t._v(" "),n("span",[t._v(t._s(e.createdAt))])]),t._v(" "),n("a",{attrs:{href:"/daily_reports/"+e.id+"/edit"}},[t._v("編集")])])}),0)},[],!1,null,null,null);e.a=component.exports},170:function(t,e,n){"use strict";n.r(e);var r=n(126),o=n(133),l=n(129),c=n(134),d={components:{DailyReportForm:l.a,DailyReportList:c.a,MainHeader:o.a},data:function(){return{currentUserId:null}},mounted:function(){var t=this;r.a.auth().onAuthStateChanged(function(e){t.currentUserId=null!=e?e.uid:null})}},v=n(15),component=Object(v.a)(d,function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("main-header",{attrs:{currentUserId:this.currentUserId}}),this._v(" "),null!=this.currentUserId?[e("daily-report-form",{attrs:{currentUserId:this.currentUserId}}),this._v(" "),e("daily-report-list",{attrs:{currentUserId:this.currentUserId}})]:this._e()],2)},[],!1,null,null,null);e.default=component.exports}}]);