(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{128:function(t,e,r){var content=r(132);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(36).default)("6add6edb",content,!0,{sourceMap:!1})},129:function(t,e,r){var content=r(134);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(36).default)("6224379b",content,!0,{sourceMap:!1})},130:function(t,e,r){"use strict";var n=r(139),o=r.n(n),l={apiKey:"AIzaSyDgw7znG2kgpYAH6UPXF1k72zjpnYV7zRg",authDomain:"nippohub-daily-prod.firebaseapp.com",databaseURL:"https://nippohub-daily-prod.firebaseio.com",projectId:"nippohub-daily-prod",storageBucket:"",messagingSenderId:"729594218139"};0===o.a.apps.length&&o.a.initializeApp(l),e.a=o.a},131:function(t,e,r){"use strict";var n=r(128);r.n(n).a},132:function(t,e,r){(t.exports=r(35)(!1)).push([t.i,".p-header{padding:.5rem 0;box-shadow:0 3px 5px rgba(0,0,0,.1)}.p-header__container{display:flex;justify-content:space-between;align-items:center;width:640px;margin:0 auto}.p-page-title{margin:0;font-size:1.5rem}.p-page-title a{color:#000;text-decoration:none}.p-auth-links{list-style-type:none;padding:0;margin:0}.p-auth-links__item{display:inline-block}.p-auth-links__item:nth-of-type(n+2){margin-left:.5rem}@media(max-width:640px){.p-header__container{width:100%;padding:0 1.5rem;box-sizing:border-box}}",""])},133:function(t,e,r){"use strict";var n=r(129);r.n(n).a},134:function(t,e,r){(t.exports=r(35)(!1)).push([t.i,".p-footer div{margin:0 auto;width:640px}@media(max-width:640px){.p-footer div{width:100%;padding:0 1.5rem;box-sizing:border-box}}",""])},135:function(t,e,r){"use strict";var n=r(130),o={props:["currentUserId"],methods:{signOut:function(){n.a.auth().signOut()}}},l=(r(131),r(15)),component=Object(l.a)(o,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",{staticClass:"p-header"},[r("div",{staticClass:"p-header__container"},[r("h1",{staticClass:"p-page-title"},[r("nuxt-link",{attrs:{to:"/"}},[t._v("NippoHub")])],1),t._v(" "),r("nav",[r("ul",{staticClass:"p-auth-links"},[null!==t.currentUserId?r("li",{staticClass:"p-auth-links__item",on:{click:t.signOut}},[t._v("Sign out")]):[r("li",{staticClass:"p-auth-links__item"},[r("nuxt-link",{attrs:{to:"/sign_in"}},[t._v("Sign in")])],1),t._v(" "),r("li",{staticClass:"p-auth-links__item"},[r("nuxt-link",{attrs:{to:"/sign_up"}},[t._v("Sign up")])],1)]],2)])])])},[],!1,null,null,null);e.a=component.exports},136:function(t,e,r){"use strict";r(133);var n=r(15),component=Object(n.a)({},function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"p-footer"},[e("div",[e("span",[this._v("\n      ©NippoHub\n    ")]),this._v(" "),e("nuxt-link",{attrs:{to:"/agreements",target:"_blank"}},[this._v("利用規約")]),this._v(" "),e("nuxt-link",{attrs:{to:"/privacy",target:"_blank"}},[this._v("プライバシーポリシー")])],1)])},[],!1,null,null,null);e.a=component.exports},138:function(t,e,r){var content=r(146);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(36).default)("2bfdbba2",content,!0,{sourceMap:!1})},145:function(t,e,r){"use strict";var n=r(138);r.n(n).a},146:function(t,e,r){(t.exports=r(35)(!1)).push([t.i,".u-mt-075{margin-top:.75em}.u-text-align-right{text-align:right}",""])},147:function(t,e,r){var content=r(162);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(36).default)("9bfcc092",content,!0,{sourceMap:!1})},148:function(t,e,r){var content=r(164);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(36).default)("24bfbbfc",content,!0,{sourceMap:!1})},149:function(t,e,r){var content=r(166);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(36).default)("da02b386",content,!0,{sourceMap:!1})},161:function(t,e,r){"use strict";var n=r(147);r.n(n).a},162:function(t,e,r){(t.exports=r(35)(!1)).push([t.i,".p-oneline-input{height:2.5em;padding:.25em .5em;outline:none;border:.1em solid #ddd;border-radius:.3em;box-sizing:border-box}",""])},163:function(t,e,r){"use strict";var n=r(148);r.n(n).a},164:function(t,e,r){(t.exports=r(35)(!1)).push([t.i,".p-btn,.p-submit{background-color:#fff;border:.1em solid #ddd;border-radius:.3em;padding:.25em 2em}",""])},165:function(t,e,r){"use strict";var n=r(149);r.n(n).a},166:function(t,e,r){(t.exports=r(35)(!1)).push([t.i,".p-daily-report-form__date-form{width:20%}.p-daily-report-form__title-form{margin-left:calc(3% - .5em);width:77%}.p-daily-report-form__content-form{width:100%;resize:vertical;box-sizing:border-box;border:.1em solid #ddd;border-radius:.3em;padding:.5em;height:10em;outline:none}@media(max-width:640px){.p-daily-report-form__date-form{width:100%}.p-daily-report-form__title-form{width:100%;margin:1rem 0 0}}",""])},167:function(t,e,r){var content=r(204);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(36).default)("9da3fc9a",content,!0,{sourceMap:!1})},168:function(t,e,r){var content=r(206);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(36).default)("2907cf9f",content,!0,{sourceMap:!1})},169:function(t,e,r){var content=r(208);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(36).default)("8f2f1038",content,!0,{sourceMap:!1})},170:function(t,e,r){"use strict";var n=r(130);r(80),r(81);var o=function(t){return"0".concat(t).slice(-2)},l=new Date,c="".concat(l.getFullYear(),"-").concat(o(l.getMonth()+1),"-").concat(o(l.getDate())),d={props:["currentUserId","dailyReportId"],data:function(){return{date:"",title:"",content:""}},methods:{post:function(){var t=n.a.database();null!=this.currentUserId&&(null!=this.dailyReportId?t.ref("users/".concat(this.currentUserId,"/daily_reports/").concat(this.dailyReportId)).update({date:this.date,title:this.title,content:this.content}).then(function(){return location.href="/"}):(t.ref("users/".concat(this.currentUserId,"/daily_reports")).push({date:this.date,title:this.title,content:this.content,createdAt:Date.now()}),this.date=c,this.title="",this.content=""))}},mounted:function(){var t=this,e=n.a.database();null!=this.currentUserId&&null!=this.dailyReportId?e.ref("users/".concat(this.currentUserId,"/daily_reports/").concat(this.dailyReportId)).once("value",function(e){var r=e.val();null!=r&&(t.date=r.date,t.title=r.title,t.content=r.content)}):this.date=c}},f=(r(161),r(163),r(165),r(145),r(15)),component=Object(f.a)(d,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{staticClass:"p-daily-report-form",on:{submit:function(e){return e.preventDefault(),t.post(e)}}},[r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],staticClass:"p-oneline-input p-daily-report-form__date-form",attrs:{type:"date",placeholder:"日付"},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}}),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"p-oneline-input p-daily-report-form__title-form",attrs:{type:"text",placeholder:"title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),r("div",{staticClass:"u-mt-075",staticStyle:{"line-height":"1"}},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"p-daily-report-form__content-form",attrs:{name:"content"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]),t._v(" "),t._m(0)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"u-text-align-right u-mt-075"},[e("button",{staticClass:"p-submit",attrs:{type:"submit"}},[this._v("送信")])])}],!1,null,null,null);e.a=component.exports},203:function(t,e,r){"use strict";var n=r(167);r.n(n).a},204:function(t,e,r){(t.exports=r(35)(!1)).push([t.i,".p-daily-report-list{margin:0;padding:0;list-style-type:none;border-top:.1em solid #ddd;border-bottom:.1em solid #ddd}.p-daily-report-list__item{display:flex;justify-content:space-between;align-items:center;padding:.5em 1.5em}.p-daily-report-list__item:nth-last-of-type(n+2){border-bottom:.1em solid #ddd}h3{margin:0}.u-mt-05{margin-top:.5em}",""])},205:function(t,e,r){"use strict";var n=r(168);r.n(n).a},206:function(t,e,r){(t.exports=r(35)(!1)).push([t.i,".p-sub-title{font-size:1.25rem;margin:0}",""])},207:function(t,e,r){"use strict";var n=r(169);r.n(n).a},208:function(t,e,r){(t.exports=r(35)(!1)).push([t.i,".u-mt-075{margin-top:.75em}.u-text-align-right{text-align:right}",""])},210:function(t,e,r){"use strict";r.r(e);var n=r(130),o=r(135),l=r(170),c={props:["currentUserId"],data:function(){return{dailyReports:[]}},mounted:function(){var t=this;if(null!=this.currentUserId){var e=n.a.database().ref("users/".concat(this.currentUserId,"/daily_reports/"));e.off(),e.orderByChild("date").limitToLast(30).on("value",function(e){var r=e.val(),n=[];for(var o in r){var l=r[o],c=new Date(l.createdAt),d=function(t){return"0".concat(t).slice(-2)},f="".concat(c.getFullYear(),"-").concat(d(c.getMonth()+1),"-").concat(d(c.getDate())," ").concat(d(c.getHours()),":").concat(d(c.getMinutes()));n.push({id:o,title:l.title,createdAt:f,date:l.date})}t.dailyReports=n.sort(function(t,e){return t.date<e.date?-1:t.date===e.date?0:1}).reverse()})}}},d=(r(203),r(15)),f=Object(d.a)(c,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"p-daily-report-list u-mt-05"},t._l(t.dailyReports,function(e){return r("li",{staticClass:"p-daily-report-list__item"},[r("nuxt-link",{attrs:{to:"/daily_reports/"+e.id}},[r("h3",[t._v(t._s(e.date)+" "+t._s(e.title))])]),t._v(" "),r("nuxt-link",{attrs:{to:"/daily_reports/"+e.id+"/edit"}},[t._v("編集")])],1)}),0)},[],!1,null,null,null).exports,m=r(136),h={components:{DailyReportForm:l.a,DailyReportList:f,MainHeader:o.a,MainFooter:m.a},data:function(){return{currentUserId:null}},methods:{deleteAll:function(){var t=n.a.database().ref("daily_reports/");null!=this.currentUserId&&t.orderByChild("userId").equalTo(this.currentUserId).on("value",function(t){var e=t.val();for(var r in e){n.a.database().ref("daily_reports/".concat(r)).remove()}})}},mounted:function(){var t=this;n.a.auth().onAuthStateChanged(function(e){t.currentUserId=null!=e?e.uid:null})}},v=(r(205),r(207),Object(d.a)(h,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("main-header",{attrs:{currentUserId:t.currentUserId}}),t._v(" "),null!=t.currentUserId?r("div",{staticClass:"l-container"},[r("daily-report-form",{attrs:{currentUserId:t.currentUserId}}),t._v(" "),r("div",[r("h2",{staticClass:"p-sub-title"},[t._v("過去の日報(最大30件)")]),t._v(" "),r("daily-report-list",{attrs:{currentUserId:t.currentUserId}})],1)],1):t._e(),t._v(" "),r("main-footer")],1)},[],!1,null,null,null));e.default=v.exports}}]);